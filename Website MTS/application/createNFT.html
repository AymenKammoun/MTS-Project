<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Create NFT House</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
</head>

<body>
    <h1 style="text-align: center; margin-top:5%">Create NFT House</h1>
    <section class="container border p-5 my-5 shadow rounded">
        <!-- House Address -->
        <div class="mb-3">
            <label for="address" class="form-label">House address</label>
            <input type="text" class="form-control" placeholder="Please Enter your House Address" id="address" />
        </div>
        <!-- Nombre of Rooms -->
        <div class="mb-3">
            <label for="room" class="form-label">Room's number</label>
            <select class="form-select" aria-label="Default select" id="room">
        <option selected aria-placeholder="">Select the number of thr rooms</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
            <br>
            <!-- Image uploader -->
            <div class="mb-3">
                <label for="image" class="form-label">House's image</label>
                <input type="text" class="form-control" id="image" placeholder="Please Enter your House Image Using Image uploader , e.g https://imgbb.com">
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">House's Price (CSC)</label>
                <input type="text" class="form-control" id="price" placeholder="Please Enter your House Price in COS">
            </div>
            <div class="mb-3">
                <label for="mona" class="form-label">House's Visit </label>
                <input type="text" class="form-control" id="mona" placeholder="Please Enter your House Mona Link">
            </div>

            <div class="row py-2">
                <div class="col-4">
                    <button class="btn btn-primary" id="create">Create NFT</button>
                </div>
                <div class="col-4">
                    <p>Status: <span id="status"></span></p>
                </div>
            </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.8.1/web3.min.js" integrity="sha512-vtUOC0YIaNm/UutU7yfnwqnF9LOYnXtpHe2kwi1nvJNloeGQuncNBiEKP/3Ww3D62USAhbXGsnYpAYoiDsa+wA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="module" src="script.js"></script>
    <script>
        const web3 = new Web3(window.ethereum);
        let account = "";
        let CurrencytokenAddress = "0xf2F855Eee4Def023EAcf3ceacA50E898bb072bC3";
        ethereum
            .request({
                method: "eth_requestAccounts",
            })
            .then((accounts) => {
                account = accounts[0];
            });

        function pay(to, amountt) {
            const s = document.querySelector("#payStatus");
            s.innerHTML = "";

            let minABI = [{
                inputs: [{
                    internalType: "address",
                    name: "to",
                    type: "address",
                }, {
                    internalType: "uint256",
                    name: "amount",
                    type: "uint256",
                }, ],
                name: "transfer",
                outputs: [{
                    internalType: "bool",
                    name: "",
                    type: "bool",
                }, ],
                stateMutability: "nonpayable",
                type: "function",
            }, ];

            let contract = new web3.eth.Contract(minABI, CurrencytokenAddress, {
                from: account,
            });
            let amount = web3.utils.toHex(Web3.utils.toWei(amountt));

            s.innerHTML = "Sending";
            let data = contract.methods
                .transfer(to, amount)
                .send()
                .then((value) => {
                    if (value.status == true) {
                        s.innerHTML = "Done!";
                    } else {
                        s.innerHTML = "Error!";
                    }
                });
        }
    </script>
</body>